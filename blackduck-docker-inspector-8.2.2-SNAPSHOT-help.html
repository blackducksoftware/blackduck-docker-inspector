<!DOCTYPE html><html><head><meta charset="UTF-8">
</head>
<body>
<h1 id="black-duck-docker-inspector">Black Duck Docker Inspector</h1>
<p><em>This content was generated by Docker Inspector version: 8.2.2-SNAPSHOT</em></p>
<ul>
  <li><a href="#overview">Overview</a>
    <ul>
      <li><a href="#modes-of-operation">Modes of operation</a></li>
      <li><a href="#requirements">Requirements</a></li>
      <li><a href="#getting-started">Getting started</a></li>
      <li><a href="#passing-arguments-to-docker-inspector">Passing arguments to Docker Inspector</a></li>
      <li><a href="#help">Help</a></li>
    </ul>
  </li>
  <li><a href="#architecture">Architecture</a>
    <ul>
      <li><a href="#execution-phases">Execution phases</a></li>
    </ul>
  </li>
  <li><a href="#running-docker-inspector">Running Docker Inspector</a>
    <ul>
      <li><a href="#running-a-specific-version">Running a specific version</a></li>
      <li><a href="#running-the-jar-file">Running the .jar file</a></li>
      <li><a href="#inspecting-an-image-by-image-repotag">Inspecting an image by image repo:tag</a></li>
      <li><a href="#inspecting-an-image-saved-to-a-tar-file">Inspecting an image saved to a .tar file</a></li>
    </ul>
  </li>
  <li><a href="#properties">Properties</a></li>
  <li><a href="#advanced-topics">Advanced topics</a>
    <ul>
      <li><a href="#isolating-application-components">Isolating application components</a></li>
      <li><a href="#concurrent-execution">Concurrent execution</a></li>
      <li><a href="#alternative-methods-for-setting-property-values">Alternative methods for setting property values</a></li>
      <li><a href="#passing-passwords-etc-in-a-more-secure-way">Passing passwords (etc.) in a more secure way</a></li>
      <li><a href="#air-gap-mode">Air Gap mode</a></li>
      <li><a href="#configuring-docker-inspector-for-your-docker-engine-and-registry">Configuring Docker Inspector for your Docker Engine and Registry</a></li>
      <li><a href="#running-docker-inspector-on-open-container-initiative-oci-images">Running Docker Inspector on Open Container Initiative (OCI) images</a></li>
    </ul>
  </li>
  <li><a href="#deploying-docker-inspector">Deploying Docker Inspector</a>
    <ul>
      <li><a href="#deployment-overview">Deployment overview</a></li>
      <li><a href="#important-notes-regarding-deployment-sample-code">Important notes regarding deployment sample code</a></li>
      <li><a href="#using-host-mode-on-linux-machine-or-linux-vm-with-docker">Using host mode on Linux machine (or Linux VM) with Docker</a></li>
      <li><a href="#using-container-mode-in-a-container-orchestration-platform-such-as-kubernetes-openshift-etc">Using container mode in a container orchestration platform such as Kubernetes, OpenShift, etc.</a></li>
      <li><a href="#image-inspector-services">Image Inspector Services</a></li>
      <li><a href="#deployment-sample-for-kubernetes">Deployment sample for Kubernetes</a></li>
      <li><a href="#deployment-sample-for-openshift">Deployment sample for OpenShift</a></li>
      <li><a href="#deployment-sample-for-travis-ci">Deployment sample for Travis CI</a></li>
      <li><a href="#deployment-sample-for-gitlab-ci">Deployment sample for GitLab CI</a></li>
      <li><a href="#deployment-sample-for-circle-ci">Deployment sample for Circle CI</a></li>
      <li><a href="#deployment-sample-for-docker-with-detect-running-in-container">Deployment sample for Docker, with Detect running in container</a></li>
      <li><a href="#configuring-docker-inspector-for-your-docker-registry">Configuring Docker Inspector for your Docker Registry</a></li>
    </ul>
  </li>
  <li><a href="#troubleshooting">Troubleshooting</a>
    <ul>
      <li><a href="#problem-when-directly-invoking-the-jar-file-an-error-message-displays-which-reads-malformed-input-or-input-contains-unmappable-characters">Problem: When directly invoking the .jar file, an error message displays which reads &quot;Malformed input or input contains unmappable characters.&quot;</a></li>
      <li><a href="#problem-you-must-run-black-duck-docker-inspector-on-a-non-linux-computer">Problem: You must run Black Duck Docker Inspector on a non-Linux computer.</a></li>
      <li><a href="#problem-property-values-being-set-in-unexpected-ways">Problem: Property values being set in unexpected ways.</a></li>
      <li><a href="#problem-the-image-inspector-service-cannot-write-to-the-mounted-volume-selinux-is-enabled">Problem: The image inspector service cannot write to the mounted volume; SELinux is enabled</a></li>
      <li><a href="#problem-the-image-inspector-service-cannot-read-from-the-mounted-volume">Problem: The image inspector service cannot read from the mounted volume</a></li>
      <li><a href="#problem-docker-inspector-cannot-perform-any-docker-operations-because-the-remote-access-port-is-not-enabled-on-the-docker-engine">Problem: Docker Inspector cannot perform any Docker operations because the remote access port is not enabled on the Docker engine</a></li>
    </ul>
  </li>
  <li><a href="#release-notes">Release notes</a></li>
</ul>
<h2 id="overview">Overview</h2>
<p>Black Duck Docker Inspector inspects Docker images to discover packages (components).
It utilizes the appropriate Linux package manager to provide a list of
the installed (by the package manager) packages, and creates a Black Duck project with a Bill of Materials (BOM) consisting of those packages as components.
Because it relies on the Linux package manager as its source, the discovered packages are limited to those installed and managed using the Linux package manager.</p>
<p>Black Duck Docker Inspector can inspect Linux Docker images that support dpkg, rpm, or apk package manager formats.</p>
<p>After running the Black Duck Docker Inspector on an image, navigate to Black Duck to view the Bill of Materials (BOM) created by
Black Duck Docker Inspector.</p>
<h3 id="modes-of-operation">Modes of operation</h3>
<p>Docker Inspector has two modes:</p>
<ul>
  <li>Host mode, for running on a Linux machine (or VM) where Docker Inspector can perform Docker operations via a Docker engine</li>
  <li>Container mode, for running in a container (started by Docker, Kubernetes, OpenShift, etc.)</li>
</ul>
<h4 id="host-mode">Host mode</h4>
<p>Host mode (the default mode) is for Linux machines (and VMs) where Docker Inspector can perform Docker operations via a Docker engine.</p>
<p>In host mode, Black Duck Docker Inspector is a utility that automates the process of using Black Duck to discover security, license, and operational risks
associated with Linux-based Docker images. It discovers components using the target Docker image's package manager; therefore, the results
are limited to those components (packages) of which the package manager is aware. Black Duck Docker Inspector does this without running
the image, so it is safe to run on untrusted images.</p>
<p>Black Duck Docker Inspector can pull the target image; in other words, the Docker image you want to inspect, from a Docker registry such
as Docker Hub. Alternatively, you can save an image to a .tar file by using the Docker Save command. Then, run Black Duck Docker Inspector
on the .tar file. Docker Inspector supports Docker Image Specification v1.2.0 format .tar files.</p>
<h4 id="container-mode">Container mode</h4>
<p>Container mode is for container orchestration environments (Kubernetes, OpenShift, etc.) where Docker Inspector will run
inside a container, where it cannot perform Docker operations. For information on running Docker Inspector in container mode,
refer to the <em>deployment</em> help topic.</p>
<h3 id="requirements">Requirements</h3>
<p>Requirements for Black Duck Docker Inspector are:</p>
<ul>
  <li>The current version of Black Duck. Visit <a href="https://github.com/blackducksoftware/hub/releases">this page</a> to determine the current version.</li>
  <li>Linux.</li>
  <li>Access to the internet. For information on running without access to the internet, refer to Air Gap mode..</li>
  <li>curl.</li>
  <li>bash.</li>
  <li>Java (JRE) version 8 or 11.</li>
  <li>Three available ports for the image inspector services.  By default, these ports are 9000, 9001, and 9002.</li>
  <li>In host mode: Access to a Docker Engine (version 17.09 or higher).</li>
  <li>In container mode: You must start the Docker Inspector container that meets the requirements above, and three container-based
    &quot;image inspector&quot; services.
    All four of these containers must share a mounted volume and be able to reach each other via HTTP GET operations using base URLs
    that you provide.</li>
</ul>
<h3 id="getting-started">Getting started</h3>
<p>The following command format will always fetch and run the latest version of Docker Inspector:</p>
<pre><code>bash &lt;(curl -s https://blackducksoftware.github.io/blackduck-docker-inspector/blackduck-docker-inspector.sh) {Docker Inspector arguments}
</code></pre>
<p>For example:</p>
<pre><code>bash &lt;(curl -s https://blackducksoftware.github.io/blackduck-docker-inspector/blackduck-docker-inspector.sh) --help
bash &lt;(curl -s https://blackducksoftware.github.io/blackduck-docker-inspector/blackduck-docker-inspector.sh) --upload.bdio=false --docker.image=ubuntu
</code></pre>
<p>An alternative is to download and run the latest Docker Inspector script:</p>
<pre><code>curl -O  https://blackducksoftware.github.io/blackduck-docker-inspector/blackduck-docker-inspector.sh
chmod +x blackduck-docker-inspector.sh
./blackduck-docker-inspector.sh {Docker Inspector arguments}
</code></pre>
<p>The advantage of using the Docker Inspector script is that it will ensure you always run the latest version of the Docker Inspector .jar.</p>
<p>Another alternative is to download the Docker Inspector .jar (using the script) and run the .jar directly:</p>
<pre><code>bash &lt;(curl -s https://blackducksoftware.github.io/blackduck-docker-inspector/blackduck-docker-inspector.sh) --pulljar
java -jar blackduck-docker-inspector-{version}.jar {Docker Inspector arguments}
</code></pre>
<h3 id="passing-arguments-to-docker-inspector">Passing arguments to Docker Inspector</h3>
<p>Usage: blackduck-docker-inspector.sh {Docker Inspector arguments}
Docker Inspector arguments consist of property assignments.
Any supported property can be set by adding to the command line
a property assignment of the form:
--{property name}={value}</p>
<p>Alternatively, any supported property can be set by adding to a text file named
application.properties (in the current directory) a line of the form:
{property name}={value}</p>
<p>There are other alternative methods for setting properties. For more information, refer to the <em>running</em> help topic.</p>
<h3 id="help">Help</h3>
<p>Available help topics:</p>
<ul>
  <li>overview (this page)</li>
  <li>architecture</li>
  <li>running</li>
  <li>properties</li>
  <li>advanced</li>
  <li>deployment</li>
  <li>troubleshooting</li>
  <li>releasenotes</li>
  <li>all</li>
</ul>
<p>To display a help topic, run Docker Inspector with either -h or --help followed by a topic. For example:
-h properties</p>
<p>To display multiple help topics, use a comma-separated list of help topics. For example:
-h overview,properties,running</p>
<p>To display all help topics, use topic &quot;all&quot;:
-h all</p>
<p>To change the format of the help output to HTML, add --help.output.format=html:
-h all --help.output.format=html</p>
<p>To write help to a file, add --help.output.path={directory or file path}:
-h all --help.output.format=html --help.output.path=.</p>
<h2 id="architecture">Architecture</h2>
<p>Docker Inspector uses up to three container-based image inspector services
(one for each of the supported Linux package manager database formats).</p>
<p>The three image inspector services provide coverage of the three package manager database formats: dpkg, rpm, and apk.
By default, Docker Inspector submits its request (to inspect the target image) to the dpkg (ubuntu) image inspector service. Any service will
redirect to the appropriate image inspector service if it cannot handle the request itself. For example,
if the target image is a Red Hat image, the ubuntu inspector service (which cannot inspect a Red Hat image)
will redirect to the centos inspector
service (which can). If you know
that most of your images have either rpm or apk databases, you can improve performance by configuring
Docker Inspector to send requests to the centos (rpm) or alpine (apk) image inspector service using
the imageinspector.service.distro.default property.</p>
<p>In host mode (the default), Docker Inspector automatically uses the Docker engine to pull as
needed from Docker Hub
three images: blackducksoftware/blackduck-imageinspector-alpine,
blackducksoftware/blackduck-imageinspector-centos, and blackducksoftware/blackduck-imageinspector-ubuntu.
Docker Inspector starts those services as needed,
and stops and removes the containers when Docker Inspector exits. It uses a shared volume to share files, such as the target Docker image,
between the Docker Inspector utility and the three service containers.</p>
<p>In container mode, you will start the container running Docker Inspector and the three image inspector container-based services such that
all four containers share a mounted volume and can communicate with each other via HTTP GET operations using base URLs that you will provide.
For information on how to do this, refer to the <em>deployment</em> help topic.</p>
<h3 id="execution-phases">Execution phases</h3>
<h4 id="host-mode-1">Host mode</h4>
<p>In host mode, Docker Inspector performs the following steps on the host:</p>
<ol>
  <li>Pulls and saves the target image to a .tar file (if you passed the image by repo:tag).</li>
  <li>Checks to see if the default image inspector service is running. If not, it pulls the image inspector image and
    starts a container, mounting a shared volume.</li>
  <li>Requests the Black Duck input/output (BDIO) file and container file system by sending an HTTP GET request to the image inspector service.</li>
</ol>
<p>The following steps are performed inside the image inspector container:</p>
<ol>
  <li>Builds the container file system that a container would have if you ran the target image. (It does not run the target image.)</li>
  <li>Determines the target image package manager database format, and redirects to a different image inspector service if necessary.</li>
  <li>Runs the image inspector's Linux package manager on the target image package manager database to get the list of
    installed packages.</li>
  <li>Produces and returns a BDIO (.jsonld) file consisting of a list of target image packages and, optionally, the container filesystem.</li>
</ol>
<p>The following steps are performed back on the host when the request to the image inspector service returns:</p>
<ol>
  <li>Uploads the BDIO file to Black Duck (this can be disabled).</li>
  <li>Copies the output files to the output directory.</li>
  <li>Stops/removes the image inspector container (this can be disabled).</li>
</ol>
<h4 id="container-mode-1">Container mode</h4>
<p>In container mode, you start four containers in such a way that they share a mounted volume and can reach each other via HTTP GET operations using
base URLs that you provide:</p>
<ul>
  <li>One container for Docker Inspector</li>
  <li>One container for each of the three image inspector services (alpine, centos, and ubuntu)</li>
</ul>
<p>In container mode, you must provide the image in a docker saved .tar file.</p>
<p>Docker Inspector:</p>
<ol>
  <li>Requests the Black Duck input/output (BDIO) file and container file system using HTTP from the default image inspector service using a
    base URL that you have provided.</li>
</ol>
<p>The following steps are performed inside the image inspector container:</p>
<ol>
  <li>Builds the container file system that a container would have if you ran the target image. (It does not run the target image.)</li>
  <li>Determines the target image package manager database format, and redirects to a different image inspector service if necessary.</li>
  <li>Runs the image inspector's Linux package manager on the target image package manager database.</li>
  <li>Produces and returns a BDIO (.jsonld) file consisting of a list of target image packages and, optionally, the container filesystem.</li>
</ol>
<p>The following steps are performed back in the Docker Inspector container when the request to the image inspector service returns:</p>
<ol>
  <li>Uploads the BDIO file to Black Duck (this can be disabled).</li>
  <li>Copies the output files to the output directory.</li>
</ol>
<h2 id="running-docker-inspector">Running Docker Inspector</h2>
<h3 id="running-a-specific-version">Running a specific version</h3>
<p>By default, blackduck-docker-inspector.sh runs the latest version of
Docker Inspector (by downloading, if necessary, and running the latest Docker Inspector .jar).
To run a specific version of Docker Inspector instead:</p>
<pre><code>export DOCKER_INSPECTOR_VERSION={version}
./blackduck-docker-inspector.sh {Docker Inspector arguments}
</code></pre>
<p>For example:</p>
<pre><code>export DOCKER_INSPECTOR_VERSION=8.1.0
./blackduck-docker-inspector.sh --upload.bdio=false --docker.image=ubuntu:latest
</code></pre>
<h3 id="running-the-jar-file">Running the .jar file</h3>
<p>The advantage of running blackduck-docker-inspector.jar is that it ensures you alway run the latest
version of Docker Inspector. However, sometimes it is better to run the .jar directly.</p>
<p>You can download any version of the Docker Inspector .jar from https://sig-repo.synopsys.com/webapp/#/artifacts/browse/tree/General/bds-integrations-release/com/synopsys/integration/blackduck-docker-inspector.</p>
<p>Use the java command to run it:</p>
<pre><code>java -jar blackduck-docker-inspector-{version}.jar {Docker Inspector arguments}
</code></pre>
<h3 id="inspecting-an-image-by-image-repotag">Inspecting an image by image repo:tag</h3>
<p>To run Docker Inspector on Docker image from your local cache or a registry:</p>
<pre><code>./blackduck-docker-inspector.sh --docker.image={repo}:{tag}
</code></pre>
<p>If you omit the :{tag}, it will default to :latest.</p>
<h3 id="inspecting-an-image-saved-to-a-tar-file">Inspecting an image saved to a .tar file</h3>
<p>To run Docker Inspector on a Docker image .tar file:</p>
<pre><code>docker save -o {name}.tar {repo}:{tag}
./blackduck-docker-inspector.sh --docker.tar={name}.tar
</code></pre>
<p>If your tar file contains multiple images, Docker Inspector can only inspect one of them.
You can specify which image you want to inspect using --docker.image.repo and --docker.image.tag. For example, to select ubuntu:latest
from a .tar file that contains ubuntu:latest and other images:</p>
<pre><code>./blackduck-docker-inspector.sh --docker.tar=multipleimages.tar --docker.image.repo=ubuntu --docker.image.tag=latest
</code></pre>
<h2 id="properties">Properties</h2>
<ul>
  <li>blackduck.always.trust.cert [Boolean]: Black Duck Always Trust Cert?; default: false</li>
  <li>blackduck.api.token [String]: Black Duck token</li>
  <li>blackduck.codelocation.name [String]: Black Duck CodeLocation name</li>
  <li>blackduck.codelocation.prefix [String]: Black Duck CodeLocation prefix</li>
  <li>blackduck.password [String]: Black Duck Password</li>
  <li>blackduck.project.name [String]: Black Duck Project Name</li>
  <li>blackduck.project.version [String]: Black Duck Project Version</li>
  <li>blackduck.proxy.host [String]: Black Duck Proxy Host</li>
  <li>blackduck.proxy.password [String]: Black Duck Proxy Password</li>
  <li>blackduck.proxy.port [String]: Black Duck Proxy Port</li>
  <li>blackduck.proxy.username [String]: Black Duck Proxy Username</li>
  <li>blackduck.timeout [Integer]: Black Duck Timeout in seconds; default: 120</li>
  <li>blackduck.url [String]: Black Duck URL</li>
  <li>blackduck.username [String]: Black Duck Username</li>
  <li>cleanup.inspector.container [Boolean]: Stop inspector container after using it?; default: true</li>
  <li>cleanup.inspector.image [Boolean]: Remove inspector image after using it?; default: false</li>
  <li>cleanup.target.image [Boolean]: Remove target image after saving it?; default: false</li>
  <li>cleanup.working.dir [Boolean]: Cleanup Working Dir?; default: true</li>
  <li>command.timeout [Long]: Command Timeout (Milliseconds); default: 120000</li>
  <li>docker.image [String]: Docker Image name:tag</li>
  <li>docker.image.id [String]: docker.image.id</li>
  <li>docker.image.repo [String]: Docker Image Repo; Use with docker.image.tag to select one image from a tarfile</li>
  <li>docker.image.tag [String]: Docker Image Tag; Use with docker.image.repo to select one image from a tarfile</li>
  <li>docker.platform.top.layer.id [String]: To ignore components from platform layers: specify the ID (from docker inspect <a href="image:tag">image:tag</a>: last of RootFS.Layers) of the top layer of the platform image</li>
  <li>docker.tar [String]: Docker tarfile path</li>
  <li>help.output.format [String]: The format for help output: MARKDOWN (text), or HTML; default: MARKDOWN</li>
  <li>help.output.path [String]: The path to a file or directory to which help output will be written. If not set, help will be written to stdout. If set, the directory must exist; the file will be created if it does not exist. If the path to a directory is provided, Docker Inspector will generate the filename automatically</li>
  <li>imageinspector.service.distro.default [String]: Default image inspector Linux distro (alpine, centos, or ubuntu); default: ubuntu</li>
  <li>imageinspector.service.port.alpine [String]: alpine image inspector host port; default: 9000</li>
  <li>imageinspector.service.port.centos [String]: centos image inspector host port; default: 9001</li>
  <li>imageinspector.service.port.ubuntu [String]: ubuntu image inspector host port; default: 9002</li>
  <li>imageinspector.service.start [Boolean]: Start ImageInspector services (containers) as needed?; default: true</li>
  <li>imageinspector.service.url [String]: The URL of the (already running) imageinspector service to use</li>
  <li>jar.path [String]: Black Duck Docker Inspector .jar file path</li>
  <li>linux.distro [String]: Linux Distribution Name</li>
  <li>logging.level.com.synopsys [String]: Logging Level (WARN, INFO, DEBUG, TRACE); default: INFO</li>
  <li>offline.mode [Boolean]: Make no attempts to access network-based resources (the Black Duck server, docker repository); default: false</li>
  <li>output.containerfilesystem.excluded.paths [String]: Comma-separated list of directories/files/links (specified as absolute paths) to exclude from the container filesystem</li>
  <li>output.include.containerfilesystem [Boolean]: Include container filesystem (a large file) in output?; default: false</li>
  <li>output.include.squashedimage [Boolean]: Include container filesystem (a large file) in output?; default: false</li>
  <li>output.path [String]: Path to directory for output files</li>
  <li>service.timeout [Long]: HTTP Service Request Timeout (Milliseconds); default: 240000</li>
  <li>shared.dir.path.local [String]: The host's path to the dir shared with the imageinspector containers. Only needed if using existing imageinspector containers; default: /tmp/blackduck-docker-inspector-files/shared</li>
  <li>system.properties.path [String]: Path to a properties file containing additional system properties (an alternative to java -D)</li>
  <li>upload.bdio [Boolean]: Upload BDIO?; default: true</li>
  <li>working.dir.path [String]: Working Directory Path; default: /tmp/blackduck-docker-inspector-files</li>
</ul>
<h2 id="advanced-topics">Advanced topics</h2>
<h3 id="isolating-application-components">Isolating application components</h3>
<p>If you are interested in components from the application layers of your image, but not interested in components
from the underlying platform layers, you can exclude components from platform layers from the results.</p>
<p>For example, if you build your application on ubuntu:latest (your Dockerfile starts
with FROM ubuntu:latest), you can exclude components from the ubuntu layer(s) so that
the components generated by Docker Inspector contains only components from your application layers.</p>
<p>First, find the layer ID of the platform's top layer. To do this:</p>
<ol>
  <li>Run the <em>docker inspect</em> command on the base image (in our example this is ubuntu:latest).</li>
  <li>Find the last element in the RootFS.Layers array. This is the platform top layer ID. In the following example, this is
    sha256:b079b3fa8d1b4b30a71a6e81763ed3da1327abaf0680ed3ed9f00ad1d5de5e7c.</li>
</ol>
<p>Set the value of the Docker Inspector property docker.platform.top.layer.id to the platform top layer ID.
For example:</p>
<p>./blackduck-docker-inspector.sh ... --docker.platform.top.layer.id=sha256:b079b3fa8d1b4b30a71a6e81763ed3da1327abaf0680ed3ed9f00ad1d5de5e7c</p>
<p>In this mode, the container file system and/or container file system squashed image produced by Docker Inspector
will contain only files added to the image by application layers. If the Black Duck signature scanner is run on this file,
it will generate results based only on files found on application layers. This provides the benefit of isolating
application components by excluding platform components. However, there may be some loss in match accuracy from the
signature scanner because, in this scenario, the signature scanner may be deprived of some contextual
information (such as the operating system files that would enable it to determine the Linux distro),
and that that may negatively affect it's ability to accurately identify components.</p>
<h3 id="concurrent-execution">Concurrent execution</h3>
<p>You can inspect multiple images in parallel on the same computer when you directly invoke the .jar file. For example:</p>
<pre><code># Get the latest blackduck-docker-inspector.sh
curl -O  https://blackducksoftware.github.io/blackduck-docker-inspector/blackduck-docker-inspector.sh
chmod +x ./blackduck-docker-inspector.sh

# Determine the current Black Duck Docker Inspector version
inspectorVersion=$(grep &quot;^version=&quot; blackduck-docker-inspector.sh|cut -d'&quot;' -f2)

# Download the latest Black Duck Docker Inspector .jar file to the current dir
./blackduck-docker-inspector.sh --pulljar

# Execute multiple inspections in parallel
java -jar ./blackduck-docker-inspector-${inspectorVersion}.jar --blackduck.url={Black Duck url} --blackduck.username={Black Duck username} --docker.image=alpine:3.5  &amp;
java -jar ./blackduck-docker-inspector-${inspectorVersion}.jar --blackduck.url={Black Duck url} --blackduck.username={Black Duck username} --docker.image=alpine:3.4  &amp;
java -jar ./blackduck-docker-inspector-${inspectorVersion}.jar --blackduck.url={Black Duck url} --blackduck.username={Black Duck username} --docker.image=alpine:3.3  &amp;
</code></pre>
<h3 id="alternative-methods-for-setting-property-values">Alternative methods for setting property values</h3>
<p>Docker Inspector gets its property values from
<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html">Spring Boot's configuration mechanism</a>.
Docker Inspector users can leverage Spring Boot capabilities beyond command line arguments
and environment variables (for example: hierarchy of property files, and placeholders)
to manage properties in more sophisticated ways.</p>
<h3 id="passing-passwords-etc-in-a-more-secure-way">Passing passwords (etc.) in a more secure way</h3>
<p>For greater security, sensitive property values such as passwords can be set via the environment variables
using one of the Spring Boot configuration mechanisms mentioned above.</p>
<p>For example, instead of passing --blackduck.password=mypassword on the command line, you can do the following:
export BLACKDUCK_PASSWORD=mypassword
./blackduck-docker-inspector.sh --blackduck.url=http://blackduck.mydomain.com:8080/ --blackduck.username=myusername --docker.image=ubuntu:latest</p>
<p>Refer to <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html">Spring Boot's configuration mechanism</a>
for more information on using this capability.</p>
<h3 id="air-gap-mode">Air Gap mode</h3>
<p>In Black Duck Docker Inspector versions 6.2.0 and higher, Black Duck provides an archive containing all files needed
to run Black Duck Docker Inspector without access to the internet. To download the Air Gap archive, run the command:</p>
<pre><code>./blackduck-docker-inspector.sh --pullairgapzip
</code></pre>
<p>To create the Docker images from the Air Gap archive required by Black Duck Docker Inspector, run the commands:</p>
<pre><code>unzip blackduck-docker-inspector-{version}-air-gap.zip
docker load -i blackduck-imageinspector-alpine.tar
docker load -i blackduck-imageinspector-centos.tar
docker load -i blackduck-imageinspector-ubuntu.tar
</code></pre>
<p>To run in Air Gap mode, use the command:</p>
<pre><code>./blackduck-docker-inspector.sh --upload.bdio=false --jar.path=./blackduck-docker-inspector-{version}.jar --docker.tar={tarfile}
</code></pre>
<h3 id="configuring-docker-inspector-for-your-docker-engine-and-registry">Configuring Docker Inspector for your Docker Engine and Registry</h3>
<p>If you invoke Docker Inspector with an image reference (a repo:tag value vs. a .tar file),
it uses the docker-java library (https://github.com/docker-java/docker-java) to access the Docker registry to pull the image.</p>
<p>If ?docker pull ? works from the command line, then docker inspector should also be able to pull that image,
because docker-java can be configured the same way as the docker command line utility.</p>
<p>But there are also other ways to configure docker-java. Details on how to configure docker-java
(and therefore Docker Inspector) for your Docker registry can be found at:
https://github.com/docker-java/docker-java#Configuration.</p>
<p>Docker Inspector does not override any of the configuration settings in the code,
so all of the other methods (properties, system properties, system environment) are available to you.</p>
<p>If you choose to use environment variables, and you are calling Docker Inspector from Detect,
you will need to prefix the environment variable names with &quot;DETECT_DOCKER_PASSTHROUGH_&quot; to
instruct detect to pass them on to Docker inspector. So in that scenario,
instead of &quot;export SOMENAME=value&quot;, use &quot;export DETECT_DOCKER_PASSTHROUGH_SOMENAME=value&quot;.</p>
<p>If you choose to use system properties (normally set using java -D),
and you are calling Docker Inspector from Detect, you will need to put the properties
in a file (e.g. mydockerproperties.properties) and use</p>
<pre><code>--detect.docker.passthrough.system.properties.path=mydockerproperties.properties
</code></pre>
<p>to point Docker Inspector to those property settings.</p>
<h3 id="running-docker-inspector-on-open-container-initiative-oci-images">Running Docker Inspector on Open Container Initiative (OCI) images</h3>
<p>When given a docker image (--docker.image=repo:tag), Docker Inspector uses the
<a href="https://github.com/docker-java/docker-java">docker-java library</a>
equivalent of <a href="https://docs.docker.com/engine/reference/commandline/save/">docker save</a>
to save the image to a tar file. In this scenario, Docker Inspector
should be able to pull, save, and inspect any image that could be pulled using a &quot;docker pull&quot; command.
(Since Docker Inspector uses the docker-java library, the docker client executable does not actually need
to be installed on the machine).</p>
<p>When given a saved docker tarfile (--docker.tar=image.tar), Docker Inspector requires a
<a href="https://github.com/moby/moby/blob/master/image/spec/v1.2.md">Docker Image Specification v1.2.0</a>
format file. To inspect <a href="https://www.opencontainers.org/">Open Container Initiative (OCI)</a>
format image files, we recommend using <a href="https://github.com/containers/skopeo">skopeo</a>
to convert them to Docker Image Specification v1.2.0 files. For example:</p>
<pre><code>skopeo copy oci:alpine-oci docker-archive:alpine-docker.tar
</code></pre>
<p>will convert an OCI image directory alpine-oci to a Docker Image Specification v1.2.0 format file
alpine-docker.tar that Docker Inspector can process when passed in with the
--docker.tar=alpine-docker.tar command line argument.</p>
<h4 id="inspecting-multiple-images-more-efficiently-using-host-mode">Inspecting multiple images more efficiently (using host mode)</h4>
<p>By default, docker inspector will start, use, and then stop/remove either one or two containerized
image inspector services per run (per target image inspected). This may be appropriate when scanning
a single image, but when scanning many images, it is highly inefficient.</p>
<p>The scanning of many images can be completed significantly faster by starting the image inspector services
once, and running multiple instances of docker inspector so that each one sends requests to the already-running
image inspector services.</p>
<p>The following script illustrates how this could be done in a Docker environment:</p>
<pre><code>curl -O https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/docker/batchedImageInspection.sh
</code></pre>
<p>To keep the example simple, this script only starts the alpine image inspector service.
In general, you will likely also need to start two more services: the ubuntu image inspector service
(for inspecting images built from dpkg-based linux distros), and the centos image inspector service
(for inspecting images built from rpm-based linux distros). It doesn't matter which service receives
the request; any service will redirect if necessary.</p>
<h4 id="running-detect-on-a-project-directory-that-exists-within-a-docker-image">Running Detect on a project directory that exists within a Docker image</h4>
<p>When you want to run Detect on a directory that exists within a docker image, you can use the following approach:</p>
<ol>
  <li>Run Detect on the image to generate the container filesystem for the image.</li>
  <li>Run Detect on a directory within that container filesystem.</li>
</ol>
<p>Detect performs these actions without running the image/container.</p>
<p>To see a simple example that illustrates this approach, use the following commands to download these sample files:</p>
<pre><code>curl -O https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/docker/runDetectInImageDir/runDetectInImageDir.sh
curl -O https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/docker/runDetectInImageDir/Dockerfile
</code></pre>
<p>Please review the script before running it to make sure the side effects
(files and directories that it creates) are OK.
You'll need to make the script executable before you run it.</p>
<h4 id="running-the-signature-scanner-on-a-specific-directory-within-a-docker-image">Running the signature scanner on a specific directory within a Docker image</h4>
<p>If you want to scan (with iScan) a specific directory within an image,
here at a very high level is how it could be done:</p>
<ol>
  <li>Run docker inspector on the target image to get the container file system.
    You could also do this using Detect using <code>--detect.docker.passthrough.*</code> properties.
    Include the following Docker Inspector properties:</li>
</ol>
<pre><code>--upload.bdio=false                        # disable BDIO upload
--output.include.containerfilesystem=true  # tell DI to output the container file system
--output.path={your output dir}            # tell DI where to put the output
</code></pre>
<ol start="2">
  <li>Locate the container file system in the output dir (*.tar.gz) and untar it</li>
  <li>cd into the directory (within the untar?d container file system) that you want to scan.</li>
  <li>Invoke detect there.</li>
</ol>
<h4 id="excluding-filesdirectories-from-the-returned-container-file-system-which-excludes-them-from-detects-signature-scan">Excluding files/directories from the returned container file system (which excludes them from Detect's signature scan)</h4>
<p>If you want to exclude certain files and/ or directories from the returned file system, you can
specify that list of directories with the <code>--output.containerfilesystem.excluded.paths</code>
property.</p>
<p>For example, if you are invoking Docker Inspector from Detect, and want Detect
to exclude the /etc and /usr/bin directories from the signature scan, you
could run Detect like this:</p>
<pre><code>./detect.sh --detect.docker.image=ubuntu:latest --detect.docker.passthrough.output.containerfilesystem.excluded.paths=/etc,/usr/bin
</code></pre>
<h2 id="deploying-docker-inspector">Deploying Docker Inspector</h2>
<h3 id="deployment-overview">Deployment overview</h3>
<p>Black Duck Docker Inspector can be run in either of the following modes:</p>
<ol>
  <li>Host mode, on a Linux machine (or Linux VM) with Docker.</li>
  <li>Container mode, inside a container running on an orchestration platform such as Kubernetes, OpenShift, etc.</li>
</ol>
<p>Each mode is discussed in detail below.</p>
<h3 id="important-notes-regarding-deployment-sample-code">Important notes regarding deployment sample code</h3>
<p>The deployment samples provided are intended to possible approaches to the challenges
involved in deploying Docker Inspector. They are not intended to be used as-is in production.
You should understand the code before you use it. They do not represent the only way to deploy in each environment.</p>
<p>Your deployment approach will be the same whether you are invoking Docker Inspector directly, or invoking it via Detect.
Most of the sample deployments use Detect simply because that is the most common use case.</p>
<h3 id="using-host-mode-on-linux-machine-or-linux-vm-with-docker">Using host mode on Linux machine (or Linux VM) with Docker</h3>
<p>In this scenario, Docker Inspector is a command line utility that automatically pulls/runs and uses container-based services
(and cleans them up when it's done). The Docker command, if installed on the machine, can be very useful for troubleshooting, but is not actually
required or used by Docker Inspector.</p>
<p>In this mode Docker Inspector does require access to a Docker Engine (very similar to the way the Docker client requires
access to a Docker Engine) so it can pull and run Docker images (it uses the https://github.com/docker-java/docker-java
library to perform Docker operations via the Docker Engine).</p>
<p>In this mode, Docker Inspector automatically pulls, runs, stops, and removes the container-based image inspector services
on which it depends. It accesses the services they provide via HTTP GET operations.</p>
<p>This is the default mode, and the simplest to use.</p>
<h3 id="using-container-mode-in-a-container-orchestration-platform-such-as-kubernetes-openshift-etc">Using container mode in a container orchestration platform such as Kubernetes, OpenShift, etc.</h3>
<p>In this scenario, Docker Inspector is a toolkit consisting of a command line utility (that you will run in one container), plus
three container-based services (which you must start). These four containers must:
(a) share a mounted volume (either persistent or temporary) that they will use to pass large files between containers, and
(b) be able to reach each other via HTTP GET operations using base URLs that you will provide.</p>
<h3 id="image-inspector-services">Image Inspector Services</h3>
<p>Docker Inspector consists of a command line utility (provided in a Java .jar, but sometimes invoked via a bash script)
and three image inspector services.</p>
<p>The required Docker operations (if any) are performed by the command line utility, while the image inspector services
perform the work of unpacking the target Docker image, extracting the Linux package manager database,
and running the Linux package manager against that database in order to extract installed packages
and translate them to components (actually externalIds) for Black Duck. If the image inspector service
finds in the target image a package manager database that is incompatible with its own package manager utility
(this happens when, for example, you run Docker Inspector on an Alpine image, but the request goes to the
Ubuntu image inspector service), the image inspector service will redirect the request to the appropriate
image inspector service. You can change the default image inspector service to reduce the likelihood
of redirects (resulting in shorter execution times). For example, if most of your target images are Alpine
you can set imageinspector.service.distro.default to alpine.</p>
<p>The image inspector service containers are downloaded from Docker Hub (blackducksoftware/blackduck-imageinspector-*).</p>
<h3 id="deployment-sample-for-kubernetes">Deployment sample for Kubernetes</h3>
<p>Approach: Toolkit</p>
<p>Deployment notes: Each image inspector service runs in a separate pod.
The shared volume is a hostPath volume. The containers communicate via service URLs.</p>
<p>Download: curl -O https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/kubernetes/setup.txt</p>
<h3 id="deployment-sample-for-openshift">Deployment sample for OpenShift</h3>
<p>Approach: Toolkit</p>
<p>Deployment notes: All image inspector services run in a single pod. The shared volume is an emptyDir volume.
The containers communicate via localhost URLs.</p>
<p>Download: curl -O https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/openshift/setup.txt</p>
<h3 id="deployment-sample-for-travis-ci">Deployment sample for Travis CI</h3>
<p>Approach: Toolkit</p>
<p>Deployment notes: Uses the Travis CI docker service.
The containers communicate via localhost URLs.</p>
<p>Download: curl -O https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/travisci/travis.yml</p>
<h3 id="deployment-sample-for-gitlab-ci">Deployment sample for GitLab CI</h3>
<p>Approach: Toolkit</p>
<p>Deployment notes: Uses the GitLab CI shell executor.
The containers communicate via localhost URLs.</p>
<p>Download: curl -O https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/gitlabci/setup.sh</p>
<h3 id="deployment-sample-for-circle-ci">Deployment sample for Circle CI</h3>
<p>Approach: Utility</p>
<p>Deployment notes:</p>
<p>Download: curl -O https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/circleci/config.yml</p>
<h3 id="deployment-sample-for-docker-with-detect-running-in-container">Deployment sample for Docker, with Detect running in container</h3>
<p>Approach: Toolkit</p>
<p>Deployment notes: The containers communicate via localhost URLs.</p>
<p>Download: https://raw.githubusercontent.com/blackducksoftware/blackduck-docker-inspector/master/deployment/docker/runDetectInContainer/setup.sh</p>
<h3 id="configuring-docker-inspector-for-your-docker-registry">Configuring Docker Inspector for your Docker Registry</h3>
<p>If you invoke Docker Inspector with an image reference (vs. an image that has been saved to a .tar file),
it uses the docker-java library (https://github.com/docker-java/docker-java) to access the Docker registry
to pull the image.</p>
<p>If <em>docker pull {targetimage}</em> works from the command line, then docker inspector should also be able
to pull that image, because docker-java can be configured the same way as the docker command line utility.</p>
<p>But there are also other ways to configure docker-java. Details on how to configure docker-java
(and therefore Docker Inspector) for your Docker registry can
be found at: https://github.com/docker-java/docker-java#Configuration.</p>
<p>Docker Inspector does not override any of the configuration settings in the code,
so any of the other methods (properties, system properties, system environment) should work.</p>
<p>If you choose to use environment variables, and you are calling Docker Inspector from Detect,
you will need to prefix the environment variable names with <em>DETECT_DOCKER_PASSTHROUGH_</em> to
instruct detect to pass them on to Docker inspector.
So in that scenario, instead of <em>export SOMENAME=value</em>, use <em>export DETECT_DOCKER_PASSTHROUGH_SOMENAME=value</em>.</p>
<p>If you choose to use system properties (normally set using java -D),
and you are calling Docker Inspector from Detect, you will need to
put the properties in a file (e.g. mydockerproperties.properties) and use</p>
<pre><code>--detect.docker.passthrough.system.properties.path=mydockerproperties.properties
</code></pre>
<p>to point Docker Inspector to those property settings.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>To troubleshoot issues with Docker Inspector, run with DEBUG logging:</p>
<pre><code>--logging.level.com.synopsys=DEBUG
</code></pre>
<p>Here are suggestions related to specific problems:</p>
<h3 id="problem-when-directly-invoking-the-jar-file-an-error-message-displays-which-reads-malformed-input-or-input-contains-unmappable-characters">Problem: When directly invoking the .jar file, an error message displays which reads &quot;Malformed input or input contains unmappable characters.&quot;</h3>
<p>Possible cause: Your local character encoding does not match the target container file system character encoding.</p>
<p>Solution/workaround: Set the character encoding to UTF-8 when invoking java:</p>
<pre><code>java -Dfile.encoding=UTF-8 ...
</code></pre>
<h3 id="problem-you-must-run-black-duck-docker-inspector-on-a-non-linux-computer">Problem: You must run Black Duck Docker Inspector on a non-Linux computer.</h3>
<p>Solution/workaround: You may be able to run Black Duck Docker Inspector within a Linux Docker container running on
your non-Linux computer using the following process.</p>
<p>Warning: This method involves running a privileged container
which will not be acceptable in some environments.</p>
<p>On your non-Linux computer, run:</p>
<pre><code>docker run -it -d --name inspectorhost --privileged blackducksoftware/blackduck-imageinspector-ubuntu:3.0.0
docker attach inspectorhost
</code></pre>
<p>Then, in the inspectorhost container, run:</p>
<pre><code>mkdir -p /opt/blackduck/dockerinspector
cd /opt/blackduck/dockerinspector
apt-get update
apt-get install -y apt-transport-https ca-certificates curl software-properties-common default-jre vim
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -
add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;
apt-get install -y docker-ce
dockerd --storage-driver=vfs  &amp;
curl -O https://blackducksoftware.github.io/blackduck-docker-inspector/blackduck-docker-inspector.sh; chmod +x blackduck-docker-inspector.sh
dockerd --storage-driver=vfs 2&gt; dockerd_stderr.log &gt; dockerd_stdout.log &amp;
./blackduck-docker-inspector.sh  ...
</code></pre>
<p>It's possible that additional steps such as configuration of dockerd, logging into the Docker registry,
and others, are required to give Docker running inside the inspectorhost container access to the Docker
images that Black Duck Docker Inspector must pull. One way to reduce extra steps is to save the target
Docker image as a .tar file on your computer,
use docker cp to copy it into the container, and run Black Duck Docker Inspector on that .tar file.</p>
<h3 id="problem-property-values-being-set-in-unexpected-ways">Problem: Property values being set in unexpected ways.</h3>
<p>Possible cause: Black Duck Docker Inspector is built using the Spring Boot application framework.
Spring Boot provides a variety of ways to set property values. This can produce unexpected results if,
for example, you have an environment variable whose name maps to a Black Duck Docker Inspector property name.
Refer to the
<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html">Spring Boot documentation</a>
for more details.</p>
<h3 id="problem-the-image-inspector-service-cannot-write-to-the-mounted-volume-selinux-is-enabled">Problem: The image inspector service cannot write to the mounted volume; SELinux is enabled</h3>
<p>When this happens, the following error may appear in the container log:</p>
<pre><code>Exception thrown while getting image packages: Error inspecting image: /shared/run_.../output/..._containerfilesystem.tar.gz (Permission denied)
...
Caused by: java.io.FileNotFoundException: /opt/blackduck/hub-imageinspector-ws/shared/run_.../output/..._containerfilesystem.tar.gz (Permission denied)
</code></pre>
<p>Possible cause: SELinux policy configuration.</p>
<p>Solution/workaround: Add the svirt_sandbox_file_t label to Docker Inspector's shared directory.
This enables the Docker Inspector services running in Docker containers to write to it:</p>
<pre><code>sudo chcon -Rt svirt_sandbox_file_t /tmp/blackduck-docker-inspector-files/shared/
</code></pre>
<h3 id="problem-the-image-inspector-service-cannot-read-from-the-mounted-volume">Problem: The image inspector service cannot read from the mounted volume</h3>
<p>When this happens, the following error may appear in the container log:</p>
<pre><code>Error inspecting image: /shared/run_.../{image}.tar (Permission denied)
</code></pre>
<p>Possible cause: The Linux umask value on the machine running Docker Inspector is too restrictive.</p>
<p>Solution/workaround: Set umask to 022 when running Docker Inspector. The cause could be a umask value
that prevents read access to the file, or read or execute access to the directory.
Docker Inspector requires an umask value that does not remove read permissions from files,
and does not remove read or execute permissions from directories. For example, a umask of 022 works.</p>
<h3 id="problem-docker-inspector-cannot-perform-any-docker-operations-because-the-remote-access-port-is-not-enabled-on-the-docker-engine">Problem: Docker Inspector cannot perform any Docker operations because the remote access port is not enabled on the Docker engine</h3>
<p>When this happens, the following error may appear in the log:</p>
<pre><code>Error inspecting image: java.io.IOException: Couldn't load native library
Stack trace: javax.ws.rs.ProcessingException: java.io.IOException: Couldn't load native library
</code></pre>
<p>In older versions of Docker Inspector (prior to 8.2.0), the logged error was:</p>
<pre><code>Error inspecting image: Could not initialize class org.newsclub.net.unix.NativeUnixSocket
Stack trace: java.lang.NoClassDefFoundError: Could not initialize class org.newsclub.net.unix.NativeUnixSocket
</code></pre>
<p>Possible cause: The tcp socket (for remote access) is not enabled on the Docker engine. For more information, refer to the <a href="https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-socket-option">Docker documentation</a>.</p>
<p>Solution/workaround: Follow the instructions in the <a href="https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-socket-option">Docker documentation</a> to
open the tcp port on the Docker engine.</p>
<h2 id="release-notes">Release notes</h2>
<h4 id="version-821">Version 8.2.1</h4>
<h5 id="resolved-issues">Resolved issues</h5>
<ul>
  <li>Fixed an issue that causes blackduck-docker-inspector.sh to display the help overview even when a different help topic is requested.</li>
  <li>Fixed an issue that causes Docker Inspector to return the full container filesystem even when only application components are requested (docker.platform.top.layer.id is specified).</li>
</ul>
<h4 id="version-820">Version 8.2.0</h4>
<h5 id="new-features">New features</h5>
<ul>
  <li>Added support for Java 11.</li>
  <li>Added the ability to generate help by topic (--help {topic}).</li>
  <li>Added the ability to generate help in HTML.</li>
  <li>Added the ability to write help output to a given file.</li>
</ul>
<h4 id="version-816">Version 8.1.6</h4>
<h5 id="changed-feature">Changed feature</h5>
<ul>
  <li>Adjusted logging to ensure that sensitive information does not appear in a debug log.</li>
</ul>
<h4 id="version-815">Version 8.1.5</h4>
<h5 id="resolved-issues-1">Resolved issues</h5>
<ul>
  <li>Fixed an issue that could cause Docker Inspector to incorrectly identify the package manager of the target image.</li>
</ul>
<h4 id="version-814">Version 8.1.4</h4>
<h5 id="new-features-1">New features</h5>
<ul>
  <li>Added a GitLab continuous integration deployment example.</li>
</ul>
<h4 id="version-813">Version 8.1.3</h4>
<h5 id="new-features-2">New features</h5>
<ul>
  <li>Added a Travis continuous integration deployment example.</li>
</ul>
<h4 id="version-812">Version 8.1.2</h4>
<h5 id="changed-features">Changed features</h5>
<ul>
  <li>Updated Blackduck-docker-inspector.sh to download the Docker Inspector .jar file from the new Artifactory repository at sig-repo.synopsys.com.</li>
</ul>
<h4 id="version-811">Version 8.1.1</h4>
<h5 id="resolved-issues-2">Resolved issues</h5>
<ul>
  <li>Resolved an issue that caused Docker Inspector to fail when it was unable to read the image inspector container's log.</li>
</ul>
<h4 id="version-810">Version 8.1.0</h4>
<h5 id="resolved-issues-3">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could cause a No such file error on a file named classes.jsa when inspecting images containing Java.</li>
</ul>
<h5 id="new-features-3">New features</h5>
<ul>
  <li>Added the property: output.containerfilesystem.excluded.paths.</li>
  <li>Added the command line --help=true switch for invoking help.</li>
  <li>Added the property output.include.squashedimage.</li>
</ul>
<h4 id="version-802">Version 8.0.2</h4>
<h5 id="resolved-issues-4">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could cause missing components on Fedora-based Docker images.</li>
</ul>
<h4 id="version-801">Version 8.0.1</h4>
<h5 id="resolved-issues-5">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could cause OpenSUSE components to be omitted from the Bill Of Materials.</li>
</ul>
<h5 id="new-features-4">New features</h5>
<ul>
  <li>Increased default image Inspector service timeout from two minutes to four minutes.</li>
</ul>
<h4 id="version-800">Version 8.0.0</h4>
<h5 id="new-features-5">New features</h5>
<ul>
  <li>Added the ability to collect only those components added to the image package manager database by your application layers, versus the platform layers on which your application is built.</li>
  <li>Added the ability to provide the full code location name.</li>
</ul>
<h5 id="removed-features">Removed features</h5>
<ul>
  <li>Docker exec mode (deprecated in Docker Inspector 7.0.0) is removed. Docker Inspector now supports HTTP client mode only.</li>
</ul>
<h4 id="version-733">Version 7.3.3</h4>
<h5 id="resolved-issues-6">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could prevent controlling the image inspector HTTP request service timeout through the service.timeout property.</li>
</ul>
<h4 id="version-732">Version 7.3.2</h4>
<h5 id="resolved-issues-7">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could cause RPM packages containing a value in the epoch field to be missing from the Black Duck Bill of Materials (BOM).</li>
</ul>
<h4 id="version-731">Version 7.3.1</h4>
<h5 id="resolved-issues-8">Resolved issues</h5>
<ul>
  <li>Resolved an issue that may cause Hub Detect versions 5.2.0 and higher to fail with an error message of DOCKER extraction failed: null when invoking Docker Inspector on a non-Linux Docker image.</li>
</ul>
<h4 id="version-730">Version 7.3.0</h4>
<h5 id="new-features-6">New features</h5>
<ul>
  <li>Added the property system.properties.path.</li>
</ul>
<h4 id="version-724">Version 7.2.4</h4>
<h5 id="resolved-issues-9">Resolved issues</h5>
<ul>
  <li>Resolved an issue that may cause Docker Inspector to fail with an error message of Error inspecting image: Failed to parse docker configuration file (Unrecognized field &quot;identitytoken&quot;).</li>
</ul>
<h4 id="version-723">Version 7.2.3</h4>
<h5 id="changed-features-1">Changed features</h5>
<ul>
  <li>When constructing the container file system with the logging level set to DEBUG or TRACE : after applying each image layer, Docker Inspector now logs contents of the layer's metadata (json) file and the list of components.</li>
</ul>
<h4 id="version-722">Version 7.2.2</h4>
<h5 id="resolved-issues-10">Resolved issues</h5>
<ul>
  <li>Resolved an issue that may cause Black Duck input/output data (BDIO) uploads to fail for openSUSE and Red Hat Docker images.</li>
</ul>
<h4 id="version-721">Version 7.2.1</h4>
<h5 id="resolved-issues-11">Resolved issues</h5>
<ul>
  <li>Resolved an issue that may cause the Bill of Materials (BOM) creation to fail with an error message of Error in MAPPING_COMPONENTS displayed on the Black Duck Scans page for certain images.</li>
</ul>
<h4 id="version-720">Version 7.2.0</h4>
<h5 id="new-features-7">New features</h5>
<ul>
  <li>Added offline mode.</li>
</ul>
<h5 id="resolved-issues-12">Resolved issues</h5>
<ul>
  <li>Fixed an issue that may generate a warning message of Error creating hard link to be logged when inspecting certain images.</li>
  <li>Fixed an issue that may generate a warning message of Error removing whited-out file .../.wh..opq to be logged when inspecting images with opaque directory whiteout files.</li>
  <li>Reduced the disk space used in the working directory within the Inspector containers.</li>
</ul>
<h4 id="version-710">Version 7.1.0</h4>
<h5 id="changed-features-2">Changed features</h5>
<ul>
  <li>Modified the format of the generated external identifiers to take advantage of the Black Duck KnowledgeBase preferred alias namespace feature.</li>
  <li>Modified the format of the generated external identifiers to include the epoch, when applicable, for RPM packages.</li>
</ul>
<h4 id="version-701">Version 7.0.1</h4>
<h5 id="resolved-issues-13">Resolved issues</h5>
<ul>
  <li>When the logging level is set to DEBUG or higher, the contents of the image inspector service log are now included in the log output.</li>
  <li>The image inspector service is now started with the same logging level as Black Duck Docker Inspector.</li>
</ul>
<h4 id="version-700">Version 7.0.0</h4>
<h5 id="changed-features-3">Changed features</h5>
<ul>
  <li>Hub Docker Inspector is now renamed to Black Duck Docker Inspector. The shell script, .jar filename, properties, and code blocks are updated accordingly.</li>
  <li>Black Duck Docker Inspector now runs in HTTP mode by default.</li>
</ul>
<h5 id="resolved-issues-14">Resolved issues</h5>
<ul>
  <li>HTTP client mode: Resolved an issue that prevents removal of the image inspector image upon completion.</li>
  <li>HTTP client mode: Resolved an issue with user-specified Black Duck project names and version names.</li>
  <li>HTTP client mode: Resolved an issue that caused the container filesystem to be provided even when it was not requested.</li>
</ul>
<h4 id="version-631">Version 6.3.1</h4>
<h5 id="resolved-issues-15">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could cause DEBUG-level warnings to be logged while inspecting images with file paths containing non-ASCII characters.</li>
  <li>Improved logging for when the image inspector service is started but never comes online.</li>
  <li>In http client mode &gt; start service mode: if a health check fails, Docker Inspector now performs a &quot;docker logs&quot; operation on the container to reveal the root problem.</li>
  <li>Orchestration platform properties are now included in the --help output.</li>
</ul>
<h4 id="version-630">Version 6.3.0</h4>
<h5 id="new-features-8">New features</h5>
<ul>
  <li>Added the --inspectorimagefamily command line argument, which prints the Inspector image family name.</li>
</ul>
<h4 id="version-620">Version 6.2.0</h4>
<h5 id="resolved-issues-16">Resolved issues</h5>
<ul>
  <li>Resolved an issue that caused Docker Inspector to fail when the image repository contained a : character and the image tag was not specified.</li>
</ul>
<h5 id="new-features-9">New features</h5>
<ul>
  <li>Added the --pullairgapzip option.</li>
  <li>Improved multiple error messages.</li>
</ul>
<h4 id="version-610">Version 6.1.0</h4>
<h5 id="resolved-issues-17">Resolved issues</h5>
<ul>
  <li>Added support for running on container application platforms such as Kubernetes and OpenShift.</li>
  <li>Renamed Rest Client Mode to HTTP Client Mode.</li>
  <li>Resolved an issue that prevented BDIO (Black Duck Input/Output data) from being uploaded to the Hub. This issue only affected HTTP client mode.</li>
  <li>Resolved an issue that caused Docker Inspector to fail when inspecting an image containing no package manager. This issue only affected HTTP client node.</li>
</ul>
<h4 id="version-604">Version 6.0.4</h4>
<h5 id="resolved-issues-18">Resolved issues</h5>
<ul>
  <li>Resolved an issue wherein Hub Docker Inspector may fail if the target docker tarfile path contained spaces.</li>
</ul>
<h4 id="version-603">Version 6.0.3</h4>
<h5 id="resolved-issues-19">Resolved issues</h5>
<ul>
  <li>Resolved an issue causing Hub Docker Inspector to produce an unnecessarily large container filesystem output file.</li>
</ul>
<h4 id="version-602">Version 6.0.2</h4>
<h5 id="resolved-issues-20">Resolved issues</h5>
<ul>
  <li>Resolved an issue causing Hub Docker Inspector to fail when the image exists in the local cache but not the registry.</li>
</ul>
<h4 id="version-601">Version 6.0.1</h4>
<h5 id="resolved-issues-21">Resolved issues</h5>
<ul>
  <li>Removed extraneous and possibly misleading log messages.</li>
</ul>
<h5 id="new-features-10">New features</h5>
<ul>
  <li>Added the properties docker.image.repo and docker.image.tag to the usage message generated when using the command line argument --help.</li>
</ul>
<h4 id="version-600">Version 6.0.0</h4>
<h5 id="new-features-11">New features</h5>
<ul>
  <li>Added REST client mode.</li>
</ul>
<h5 id="changed-features-4">Changed features</h5>
<ul>
  <li>The available properties list included in the usage message, which displays when using the command line argument --help, is now sorted alphabetically.</li>
  <li>The format of the (optional) container filesystem output file name has changed.  The new container system file name is {image name}<em>{image tag}</em> containerfilesystem.tar.gz or {image tarfilename}.tar.gz, depending on how the target image is specified.</li>
</ul>
<h4 id="version-510">Version 5.1.0</h4>
<h5 id="new-features-12">New features</h5>
<ul>
  <li>Added support for the JAVACMD environment variable.</li>
</ul>
<h5 id="resolved-issues-22">Resolved issues</h5>
<ul>
  <li>Improved performance and reliability.</li>
</ul>
<h4 id="version-500">Version 5.0.0</h4>
<h5 id="removed-features-1">Removed features</h5>
<ul>
  <li>The dry.run property is removed. Instead of setting dry.run to true, you can now set upload.bdio to false.</li>
  <li>The output.include.dockertarfile property is removed. Instead, consider using the property output.include.containerfilesystem.</li>
</ul>
<h5 id="resolved-issues-23">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could cause Hub Docker Inspector to fail when the local Docker registry contains unnamed images.</li>
</ul>
<h4 id="version-441">Version 4.4.1</h4>
<h5 id="resolved-issues-24">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could cause Hub Docker Inspector to fail to connect to Hub versions 4.5 or higher.</li>
</ul>
<h4 id="version-440">Version 4.4.0</h4>
<h5 id="new-features-13">New features</h5>
<ul>
  <li>Added the property cleanup.inspector.container.</li>
  <li>Added the ability to provide a Hub user access (API) token instead of username and password.</li>
</ul>
<h5 id="resolved-issues-25">Resolved issues</h5>
<ul>
  <li>Resolved an issue that caused Hub Docker Inspector to fail when the target image did not include a supported package manager database, such as an image based on the scratch image, with no Linux operating system installed. In this case, Hub Docker Inspector now succeeds, producing a Bill Of Materials (BDIO) file containing zero components.</li>
  <li>Resolved an issue that could cause hard link creation error messages to display in the log.</li>
  <li>Resolved an issue that could cause Hub Docker Inspector to fail to stop and also fail to remove the inspector Docker container.</li>
  <li>Resolved an issue that could cause Hub Docker Inspector to unnecessarily download its .jar file when the environment variable DOCKER_INSPECTOR_VERSION is set.</li>
</ul>
<h5 id="changed-features-5">Changed features</h5>
<ul>
  <li>The base name of the Inspector images and containers has changed from hub-docker-inspector to hub-imageinspector-ws.</li>
</ul>
<h4 id="version-432">Version 4.3.2</h4>
<h5 id="resolved-issues-26">Resolved issues</h5>
<ul>
  <li>Resolved an issue that caused Hub Docker Inspector to remove existing files from the output directory.</li>
</ul>
<h4 id="version-431">Version 4.3.1</h4>
<h5 id="resolved-issues-27">Resolved issues</h5>
<ul>
  <li>Resolved an issue that caused Hub Docker Inspector to fail when the target image repository URL included a port number.</li>
  <li>Resolved an issue that caused files to be left in the working directory even when cleanup.working.dir was set to true, which is the default value.</li>
  <li>Resolved an issue that caused the output Docker .tar filename to be shortened when the image repository name included a forward-slash character ('/').</li>
  <li>Resolved an issue wherein the log file may show a connection to the Hub when in fact there was no connection.</li>
</ul>
<h4 id="version-430">Version 4.3.0</h4>
<h5 id="new-features-14">New features</h5>
<ul>
  <li>Added the property upload.bdio. It replaces the now-deprecated property dry.run.</li>
  <li>Added the property cleanup.target.image.</li>
  <li>Added the property cleanup.inspector.image.</li>
</ul>
<h4 id="version-420">Version 4.2.0</h4>
<h5 id="new-features-15">New features</h5>
<ul>
  <li>Added the property inspector.repository.</li>
</ul>
<h4 id="version-410">Version 4.1.0</h4>
<h5 id="new-features-16">New features</h5>
<ul>
  <li>Directly invoking the .jar file now provides the ability to run multiple instances of Hub Docker Inspector on the same machine.</li>
  <li>Hub Docker Inspector stops and removes the Hub Docker Inspector container upon completion.</li>
</ul>
<h4 id="version-403">Version 4.0.3</h4>
<h5 id="resolved-issues-28">Resolved issues</h5>
<ul>
  <li>Resolved an issue wherein after importing a certificate, Hub Docker Inspector may incorrectly display the error message Error inspecting image: Please import the certificate for {hub url} into your Java keystore.</li>
</ul>
<h4 id="version-402">Version 4.0.2</h4>
<h5 id="resolved-issues-29">Resolved issues</h5>
<ul>
  <li>Added additional detail, including the list of supported properties, to the output of the  --help function.</li>
</ul>
<h4 id="version-401">Version 4.0.1</h4>
<h5 id="resolved-issues-30">Resolved issues</h5>
<ul>
  <li>Resolved an issue which caused the --pulljar function to fail.</li>
</ul>
<h4 id="version-400">Version 4.0.0</h4>
<h5 id="new-features-17">New features</h5>
<ul>
  <li>All arguments, including the target Docker image or tarfile, are now passed as property values. The order is no longer important.</li>
  <li>All access to web servers (the Hub, Docker registry) is performed from your computer instead of a Docker container. This enables access to Docker images that exist only on your computer, and can help avoid certificate issues.  It also reduces challenges when accessing Docker registries.</li>
  <li>Added the property cleanup.working.dir.</li>
</ul>
<h5 id="removed-features-2">Removed features</h5>
<ul>
  <li>The property dev.mode is removed. Now, when property jar.path is set, the jar file is always copied into the Docker container.</li>
  <li>Hub Docker Inspector no longer prompts for the Hub password. If dry.run mode is disabled, which is the default, the Hub password is now required.</li>
  <li>The no.prompt property is removed.</li>
  <li>Removed support for the old format of the --spring.config.location command line argument value.</li>
</ul>
<h4 id="version-321">Version 3.2.1</h4>
<h5 id="resolved-issues-31">Resolved issues</h5>
<ul>
  <li>Resolved an issue with project names and versions that contain embedded spaces.</li>
</ul>
<h4 id="version-320">Version 3.2.0</h4>
<h5 id="new-features-18">New features</h5>
<ul>
  <li>Added support for a new format of the --spring.config.location command line argument value.</li>
</ul>
<h4 id="version-312">Version 3.1.2</h4>
<h5 id="resolved-issues-32">Resolved issues</h5>
<ul>
  <li>Resolved an issue which caused Hub Docker Inspector to fail when a Hub username containing spaces was provided through the command line.</li>
</ul>
<h4 id="version-311">Version 3.1.1</h4>
<h5 id="resolved-issues-33">Resolved issues</h5>
<ul>
  <li>Resolved an issue causing Hub Docker Inspector to fail when the .jar file path contained spaces.</li>
  <li>Resolved an issue causing Hub Docker Inspector to fail when the path of the current working directory contained spaces.</li>
  <li>Resolved an issue that could cause Hub Docker Inspector to continue executing after a failure.</li>
</ul>
<h4 id="version-310">Version 3.1.0</h4>
<h5 id="new-features-19">New features</h5>
<ul>
  <li>Hub Docker Inspector now performs the BDIO upload from your computer. Previously, this was done from a Docker container.  This eliminates the need to set the hub.always.trust.cert property to true when the Hub server certificate is installed on your computer.  This refers to your actual personal computer, and not to the local Hub server instance.</li>
</ul>
<h5 id="resolved-issues-34">Resolved issues</h5>
<ul>
  <li>Resolved an issue that could cause BDIO upload to fail when the BDIO filename is longer than 255 characters.</li>
  <li>Resolved an issue that could cause Hub Docker Inspector to incorrectly report the success/fail status.</li>
</ul>
<h4 id="version-300">Version 3.0.0</h4>
<h5 id="new-features-20">New features</h5>
<ul>
  <li>The first phase of processing, which is determining the operating system / package manager of the target image, now runs on your computer. Previously, it ran within a Docker container. The second phase of processing, determining the installed packages, still runs within a Docker container.</li>
  <li>When invoked on an image instead of a tar file, Hub Docker Inspector now uses the docker process (dockerd) running on your computer to pull the target image.</li>
  <li>The process within the Hub Docker Inspector container now runs as a non-root user.</li>
</ul>
<h5 id="removed-features-3">Removed features</h5>
<ul>
  <li>The output no longer includes a JSON file containing the dependency node tree.</li>
  <li>Properties, arguments, and environment variables used to configure Docker; for example, docker.registry, docker.registry.username, and others, are no longer required.  These are removed.</li>
</ul>
<h5 id="resolved-issues-35">Resolved issues</h5>
<ul>
  <li>The output.include.tarfile property name is changed to output.include.dockertarfile.</li>
  <li>The script hub-docker-inspector.sh returns 0 when it succeeds, and a non-zero value when it fails.</li>
</ul>
<h4 id="version-212">Version 2.1.2</h4>
<h5 id="resolved-issues-36">Resolved issues</h5>
<ul>
  <li>Resolved an issue which caused Hub Docker Inspector to produce an incorrect JSON dependency node type.</li>
</ul>
<h4 id="version-211">Version 2.1.1</h4>
<h5 id="resolved-issues-37">Resolved issues</h5>
<ul>
  <li>Resolved an issue which caused Hub Docker Inspector to produce an incorrect JSON dependency node name/version.</li>
</ul>
<h4 id="version-210">Version 2.1.0</h4>
<h5 id="new-features-21">New features</h5>
<ul>
  <li>Added the output.include.containerfilesystem property.</li>
</ul>
<h4 id="version-200">Version 2.0.0</h4>
<h5 id="resolved-issues-38">Resolved issues</h5>
<ul>
  <li>When inspecting a tar file that contains multiple images/versions, Hub Docker Inspector now requires the docker.image.repo and docker.image.tag properties. These properties specify which image from the tar file are inspected.</li>
  <li>When not in dry run mode and no Hub password is provided, Hub Docker Inspector now prompts for it. This behavior is disabled using the no.prompt property.</li>
  <li>Changed property bdio.output.path to output.path.</li>
  <li>When the output.path property is set, the output now includes a JSON file containing the dependency node tree, in addition to the BDIO file.</li>
  <li>Added the output.include.tarfile property.</li>
  <li>Added the hub.codelocation.prefix property.</li>
  <li>Resolved an issue that may produce inaccurate results for packages maintained by multiple Linux projects.</li>
  <li>Improved the error message displayed when the user provides an incorrect Hub password.</li>
</ul>
<h4 id="version-121">Version 1.2.1</h4>
<h5 id="resolved-issues-39">Resolved issues</h5>
<ul>
  <li>Resolved an issue which caused Hub Docker Inspector to fail when running on Windows.</li>
</ul>
<h4 id="version-120">Version 1.2.0</h4>
<h5 id="resolved-issues-40">Resolved issues</h5>
<ul>
  <li>Added the runon property.</li>
  <li>Added support for the DOCKER_INSPECTOR_JAVA_OPTS environment variable.</li>
</ul>
<h5 id="resolved-issues-causing-hub-docker-inspector-to-fail-when-the-current-directory-path-or-the-given-tar-file-path-contained-spaces">Resolved issues causing Hub Docker Inspector to fail when the current directory path or the given .tar file path contained spaces.</h5>
<h4 id="version-111">Version 1.1.1</h4>
<h5 id="resolved-issues-41">Resolved issues</h5>
<ul>
  <li>Resolved an issue wherein output results may not be entirely consistent.</li>
</ul>
<h4 id="version-110">Version 1.1.0</h4>
<h5 id="resolved-issues-42">Resolved issues</h5>
<ul>
  <li>Added dry.run and bdio.output.path properties.</li>
  <li>Removed install.dir and working.directory properties</li>
  <li>Added the ability to specify dockerd command line options.</li>
</ul>
<h5 id="known-issues">Known issues</h5>
<ul>
  <li>When you inspect the same image twice and specify different Hub project names or versions, the first project version's Bill of Materials (BOM) is cleared.</li>
</ul>
<h4 id="version-102">Version 1.0.2</h4>
<h5 id="resolved-issues-43">Resolved issues</h5>
<ul>
  <li>Added improvements to the way the Docker image files are extracted which reduces spurious error messages.</li>
  <li>Hub Docker Inspector now automatically upgrades the Hub Docker Inspector container when appropriate.</li>
</ul>
<h5 id="known-issues-1">Known issues</h5>
<ul>
  <li>When you inspect the same image twice and specify different Hub project names or versions, the first project version's Bill of Materials (BOM) is cleared.</li>
</ul>
<h4 id="version-101">Version 1.0.1</h4>
<h5 id="resolved-issues-44">Resolved issues</h5>
<ul>
  <li>Hub Docker Inspector now terminates earlier if Hub details are invalid.</li>
  <li>Added improvements to the way the Docker image files are extracted which reduces spurious error messages.</li>
  <li>Added support for Hub project names containing the &quot;/&quot; character.</li>
</ul>
<h5 id="known-issues-2">Known issues</h5>
<ul>
  <li>When you inspect the same image twice and specify different Hub project names or versions, the first project version's Bill of Materials (BOM) is cleared.</li>
</ul>
<h4 id="version-100">Version 1.0.0</h4>
<h5 id="resolved-issues-45">Resolved issues</h5>
<ul>
  <li>Additional security for the SCAN_CLI_OPTS environment variable.</li>
</ul>
<h5 id="known-issues-3">Known issues</h5>
<ul>
  <li>When you inspect the same image twice and specify different Hub project versions, the first project version's Bill of Materials (BOM) is cleared.</li>
</ul>
<h4 id="version-014">Version 0.1.4</h4>
<h5 id="resolved-issues-46">Resolved issues</h5>
<ul>
  <li>Resolved an issue that may produce inaccurate results caused by incorrectly ordered image layers.</li>
  <li>Added the ability to get an application.properties file template.</li>
  <li>Additional security for the BD_HUB_PASSWORD environment variable.</li>
  <li>DPKG systems: Now omits packages that are included in the dpkg list, but are not currently installed.</li>
</ul>
<h5 id="known-issues-4">Known issues</h5>
<ul>
  <li>The proxy password provided to Hub Docker Inspector is not secure in this version. If you communicate with the Hub server using a proxy, do not deploy in a production environment requiring password security.</li>
  <li>When you inspect the same image twice and specify different Hub project versions, the first project version's Bill of Materials (BOM) is cleared.</li>
</ul>
<h4 id="version-013">Version 0.1.3</h4>
<h5 id="resolved-issues-47">Resolved issues</h5>
<ul>
  <li>Resolved an issue which caused a 401 error when the password was specified both by the BD_HUB_PASSWORD environment variable and the --hub.password command line argument. In versions 0.1.3 and higher, if both are set, the command line argument overrides the environment variable.</li>
</ul>
<h5 id="known-issues-5">Known issues</h5>
<ul>
  <li>The passwords provided to Hub Docker Inspector are not encrypted in this version. Do not use in a production environment where the provided passwords must be kept secure.</li>
  <li>When you inspect the same image twice and specify different Hub project versions, the first project version's Bill of Materials (BOM) is cleared.</li>
</ul>
<h4 id="version-012">Version 0.1.2</h4>
<h5 id="resolved-issues-48">Resolved issues</h5>
<ul>
  <li>Resolved an issue which caused a 403 error when uploading BDIO files to Hub 4.0.</li>
</ul>
<h5 id="known-issues-6">Known issues</h5>
<ul>
  <li>The passwords provided to Hub Docker Inspector are not encrypted in this version. Do not use in a production environment where the provided passwords must be kept secure.</li>
  <li>When you inspect an image after changing your Hub project version, the previous version's Bill of Materials is cleared.</li>
</ul>
<h4 id="version-011">Version 0.1.1</h4>
<h5 id="resolved-issues-49">Resolved issues</h5>
<ul>
  <li>Resolved an issue which resulted in the following error while processing some images: Error extracting files from layer tar: groovy.lang.MissingPropertyException: No such property: getMessage for class: java.nio.file.FileAlreadyExistsException.</li>
</ul>
<h5 id="known-issues-7">Known issues</h5>
<ul>
  <li>The passwords provided to Hub Docker Inspector are not encrypted in this version. Do not use in a production environment where the provided passwords must be kept secure.</li>
  <li>When you inspect an image again after changing your Hub project version, the previous version's BOM is cleared.</li>
</ul>
<h4 id="version-010">Version 0.1.0</h4>
<h5 id="new-features-22">New features</h5>
<ul>
  <li>New --runon option allows you to instruct the utility to run directly on either CentOS or Alpine. If you are:</li>
  <li>Running the utility on a RedHat (RHEL) system</li>
  <li>Inspecting an image based on an operating system that uses either RPM or APK package manager</li>
  <li>Geting a no space left on device error</li>
  <li>Then use this option to instruct the utility to run on a platform that supports the target image package manager. For target images that use RPM, specify a value of centos. For images that use APK, specify a value of alpine. This option only works if the image is provided as a tarfile. For example:
    ./hub-docker-inspector --runon=centos myRedHatImage.tar</li>
</ul>
<h5 id="resolved-issues-50">Resolved issues</h5>
<ul>
  <li>Resolved an issue which failed to inspect older versions of CentOS with the error message: RpmExecutor : error: db5 error(30969) from dbenv&gt;open: BDB0091 DB_VERSION_MISMATCH: Database environment version mismatch.</li>
  <li>Resolved an issue which in some cases produced file or link-related error messages when unpacking images. These generally do not interfere with the ability to produce the Hub project or Bill of Materials.</li>
</ul>
<h5 id="known-issues-8">Known issues</h5>
<ul>
  <li>The passwords provided to Hub Docker Inspector are not encrypted in this version. Do not use in a production environment where the provided passwords must be kept secure.</li>
  <li>When you inspect an image again after changing your Hub project version, the previous version's BOM is cleared.</li>
  <li>Cannot be run from a directory containing spaces in the name.</li>
</ul>
<h4 id="version-004">Version 0.0.4</h4>
<h5 id="known-issues-9">Known issues</h5>
<ul>
  <li>The passwords provided to Hub Docker Inspector are not encrypted in this version. Do not use in a production environment where the provided passwords must be kept secure.</li>
  <li>When you inspect an image again after changing the Hub project version, the previous version's BOM is cleared.</li>
  <li>Cannot be run from a directory containing spaces in the name.</li>
  <li>Fails to inspect older versions of CentOS with error message: RpmExecutor : error: db5 error(30969) from dbenv&gt;open: BDB0091 DB_VERSION_MISMATCH: Database environment version mismatch.</li>
  <li>Will in some cases produce file or link-related error messages unpacking images. These generally do not interfere with the ability to produce the Hub project or Bill of Materials.</li>
</ul>

</body>
</html>
